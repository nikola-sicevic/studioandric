<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Studio Andric | Web Design</title>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="img/favicon.ico">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@900&display=swap" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="css/style.css">
    <link href="js/aos-master/dist/aos.css" rel="stylesheet">

    <!-- JS -->
    <script src="js/jquery.js"></script>
    <script src="js/aos-master/dist/aos.js"></script>
    <script src="js/app.js"></script>
</head>
<body>
    <!-- Manu for small screens -->
    <div class="menu-sm" id="menu-sm">
        <div class="menu-left">
            <img src="img/logo_vert_sm.png" alt="Andric logo vertical">
        </div>
        <div class="menu-right">
            <a href="#" class="btn-menu-close" id="btn-menu-close">Back</a>
            <nav id="nav-sm">
                <ul>
                    <li>
                        <a href="index.html">Home page</a>
                        <a href="web_design.html">Web design</a>
                        <a href="graphic_design.html">Graphic design</a>
                    </li>
                </ul>
            </nav>
            <a href="mailto:studioandric@gmail.com" class="menu-sm-contact">studioandric@gmail.com</a>
        </div>
    </div>

    <!-- Header for large screens -->
    <header class="header-lg" id="header-lg">
        <img src="img/logo_menu_lg.png" alt="Logo header">

        <nav class="inverse">
            <ul>
                <li><a href="index.html">Home page</a></li>
                <li><a href="web_design.html">Web design</a></li>
                <li><a href="graphic_design.html">Graphic design</a></li>
            </ul>
        </nav>
    </header>

    <!-- Header for small screens -->
    <header class="header-sm" id="header-sm">
        <a href="index.html">
            <img src="img/logo_menu_sm.png" alt="Andric logo mobile">
        </a>
        <a href="#" class="btn-menu-open" id="btn-menu-open">Menu</a>
    </header>
    
    <section class="home-white" id="home-white">
        <picture class="fade-in">
            <source media="(min-width: 768px)" srcset="img/logo_home_lg.png">
            <img src="img/logo_home_sm.png" alt="Logo home">
        </picture>
    </section>

    <section class="projects" id="projects">
        <div class="project-page" id="project-page">
            <picture>
                <source media="(min-width: 768px)" srcset="img/web/listovi_nepokretnosti_page_lg.png">
                <img src="img/web/listovi_nepokretnosti_page_sm.png" alt="Listovi nepokretnosti page">
            </picture>

            <picture>
                <source media="(min-width: 768px)" srcset="img/web/ribarnica_page_lg.png">
                <img src="img/web/ribarnica_page_sm.png" alt="Ribarnica">
            </picture>

            <picture>
                <source media="(min-width: 768px)" srcset="img/web/tijana_vukan_page_lg.png">
                <img src="img/web/tijana_vukan_page_sm.png" alt="Tijana Vukan">
            </picture>

            <picture>
                <source media="(min-width: 768px)" srcset="img/web/vi_athlete_page_lg.png">
                <img src="img/web/vi_athlete_page_sm.png" alt="VI athlete">
            </picture>
        </div>
        <div class="project-landing" id="project-landing">
            <picture>
                <source media="(min-width: 768px)" srcset="img/computer_lg.png">
                <img src="img/computer_sm.png" alt="Computer">
            </picture>

            <picture>
                <source id="mobile-landing" media="(min-width: 768px)" srcset="img/web/listovi_nepokretnosti_lg.png">
                <img id="desktop-landing" src="img/web/listovi_nepokretnosti_sm.png" alt="Listovi nepokretnosti landing">
            </picture>

            <p class="web-text" data-aos="fade-up">
                We believe in creating designs which narrate our clientsâ€™ stories and their business objective clearly. 
                Understanding the client's requirements, their business and product goals are at the core of our extensively detailed design process.
            </p>
        </div>
        <div class="web-design" id="web-design">
            <p>Web design</p>
        </div>
    </section>

    <!-- Import images array -->
    <script type="text/javascript" language="javascript" src="images.js"></script>

    <script>
        $(document).ready(function () {
            $('#project-landing picture:nth-child(2) img').on('click', function(){
                $(this).attr("src", "img/web/ribarnica_lg.png");

                console.log($(this).attr("src"));
            });

            const imagePath = 'img/web/';

            // Set iterator for going through images
            let i = 0;

            // Change screen image
            function changeScreenImage(i) {
                let mobileUrl = imagePath + images[i].mobile.landingName;
                let desktopUrl = imagePath + images[i].desktop.landingName;

                let dekstopImageElement= $('#project-landing picture:nth-child(2) source');
                let mobileImageElement= $('#project-landing picture:nth-child(2) img');

                dekstopImageElement.attr('srcset', desktopUrl);
                mobileImageElement.attr('src', mobileUrl);
            }

            $('#projects').on('scroll', function (e) {
                let screen = ($(window).width() > 768) ? "desktop" : "mobile";

                let screenTop = $(this).scrollTop();

                // When scrollTop is on the half of the next image, change screen image
                if (screenTop > images[0][screen].totalBottom - images[1][screen].height / 2) {
                    if (screenTop > images[1][screen].totalBottom - images[1][screen].height / 2) {
                        if (screenTop > images[2][screen].totalBottom - images[3][screen].height) {
                            i = 3;
                        } else {
                            i = 2;
                        }
                    } else {
                        i = 1;
                    }
                } else {
                    i = 0;
                }

                changeScreenImage(i);
            });
        });
    </script>
</body>
</html>